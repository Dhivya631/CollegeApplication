services:
  - type: web
    name: collegeapp
    env: docker
    plan: free
    branch: main
    dockerfilePath: ./Dockerfile
    envVars:
      - key: SPRING_DATASOURCE_URL
        value: jdbc:mysql://mysql:3306/ecollege?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
      - key: SPRING_DATASOURCE_USERNAME
        value: root
      - key: SPRING_DATASOURCE_PASSWORD
        value: Dhivya@12345

  - type: private_service
    name: mysql
    env: docker
    plan: free
    dockerfilePath: ./mysql/Dockerfile
    autoDeploy: false
    envVars:
      - key: MYSQL_ROOT_PASSWORD
        value: Dhivya@12345
      - key: MYSQL_DATABASE
        value: ecollege
